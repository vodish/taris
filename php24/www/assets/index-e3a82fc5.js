var $t=Object.defineProperty;var wt=(t,e,n)=>e in t?$t(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var X=(t,e,n)=>(wt(t,typeof e!="symbol"?e+"":e,n),n);const we=Object.freeze(Object.defineProperty({__proto__:null,get accessText(){return Pe},get api(){return se},get apierr(){return ke},get get(){return mt},get href(){return pe},get isProject(){return je},get lineHtml(){return $e},get lineText(){return Me},get logList(){return kt},get packBc(){return De},get packMenu(){return _e},get packStart(){return x},get packTitle(){return Be},get packTree(){return Ie},get parse(){return He},get pref(){return I},get treeText(){return Ne},get url(){return ce},get userList(){return ge}},Symbol.toStringTag,{value:"Module"}));(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const f of i)if(f.type==="childList")for(const r of f.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const f={};return i.integrity&&(f.integrity=i.integrity),i.referrerPolicy&&(f.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?f.credentials="include":i.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(i){if(i.ep)return;i.ep=!0;const f=n(i);fetch(i.href,f)}})();function M(){}function ot(t){return t()}function ze(){return Object.create(null)}function ne(t){t.forEach(ot)}function at(t){return typeof t=="function"}function F(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function yt(t){return Object.keys(t).length===0}function dt(t,...e){if(t==null){for(const l of e)l(void 0);return M}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function mt(t){let e;return dt(t,n=>e=n)(),e}function N(t,e,n){t.$$.on_destroy.push(dt(e,n))}const Tt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function g(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode&&t.parentNode.removeChild(t)}function ve(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function b(t){return document.createElement(t)}function Lt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function H(t){return document.createTextNode(t)}function y(){return H(" ")}function me(){return H("")}function C(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function pt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Et(t){return Array.from(t.childNodes)}function U(t,e){e=""+e,t.data!==e&&(t.data=e)}function be(t,e){t.value=e??""}function Ve(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}class St{constructor(e=!1){X(this,"is_svg",!1);X(this,"e");X(this,"n");X(this,"t");X(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,l=null){this.e||(this.is_svg?this.e=Lt(n.nodeName):this.e=b(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(l)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)v(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(k)}}let ae;function oe(t){ae=t}function _t(){if(!ae)throw new Error("Function called outside component initialization");return ae}function Ce(t){_t().$$.on_mount.push(t)}function Nt(t){_t().$$.on_destroy.push(t)}const re=[],de=[];let ue=[];const Te=[],Mt=Promise.resolve();let Le=!1;function Pt(){Le||(Le=!0,Mt.then(ht))}function Ee(t){ue.push(t)}function Oe(t){Te.push(t)}const ye=new Set;let le=0;function ht(){if(le!==0)return;const t=ae;do{try{for(;le<re.length;){const e=re[le];le++,oe(e),Ct(e.$$)}}catch(e){throw re.length=0,le=0,e}for(oe(null),re.length=0,le=0;de.length;)de.pop()();for(let e=0;e<ue.length;e+=1){const n=ue[e];ye.has(n)||(ye.add(n),n())}ue.length=0}while(re.length);for(;Te.length;)Te.pop()();Le=!1,ye.clear(),oe(t)}function Ct(t){if(t.fragment!==null){t.update(),ne(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ee)}}function Ot(t){const e=[],n=[];ue.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),ue=e}const he=new Set;let te;function Y(){te={r:0,c:[],p:te}}function Q(){te.r||ne(te.c),te=te.p}function w(t,e){t&&t.i&&(he.delete(t),t.i(e))}function L(t,e,n,l){if(t&&t.o){if(he.has(t))return;he.add(t),te.c.push(()=>{he.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function Z(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ae(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function j(t){t&&t.c()}function O(t,e,n){const{fragment:l,after_update:i}=t.$$;l&&l.m(e,n),Ee(()=>{const f=t.$$.on_mount.map(ot).filter(at);t.$$.on_destroy?t.$$.on_destroy.push(...f):ne(f),t.$$.on_mount=[]}),i.forEach(Ee)}function A(t,e){const n=t.$$;n.fragment!==null&&(Ot(n.after_update),ne(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function At(t,e){t.$$.dirty[0]===-1&&(re.push(t),Pt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function V(t,e,n,l,i,f,r,u=[-1]){const s=ae;oe(t);const c=t.$$={fragment:null,ctx:[],props:f,update:M,not_equal:i,bound:ze(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:ze(),dirty:u,skip_bound:!1,root:e.target||s.$$.root};r&&r(c.root);let o=!1;if(c.ctx=n?n(t,e.props||{},(h,a,..._)=>{const d=_.length?_[0]:a;return c.ctx&&i(c.ctx[h],c.ctx[h]=d)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](d),o&&At(t,h)),a}):[],c.update(),o=!0,ne(c.before_update),c.fragment=l?l(c.ctx):!1,e.target){if(e.hydrate){const h=Et(e.target);c.fragment&&c.fragment.l(h),h.forEach(k)}else c.fragment&&c.fragment.c();e.intro&&w(t.$$.fragment),O(t,e.target,e.anchor),ht()}oe(s)}class q{constructor(){X(this,"$$");X(this,"$$set")}$destroy(){A(this,1),this.$destroy=M}$on(e,n){if(!at(n))return M;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!yt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ht="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ht);const ie=[];function D(t,e=M){let n;const l=new Set;function i(u){if(F(t,u)&&(t=u,n)){const s=!ie.length;for(const c of l)c[1](),ie.push(c,t);if(s){for(let c=0;c<ie.length;c+=2)ie[c][0](ie[c+1]);ie.length=0}}}function f(u){i(u(t))}function r(u,s=M){const c=[u,s];return l.add(c),l.size===1&&(n=e(i,f)||M),u(t),()=>{l.delete(c),l.size===0&&n&&(n(),n=null)}}return{set:i,update:f,subscribe:r}}let Se=document.getElementById("rtoken"),qe=JSON.parse(Se.innerText);Se.parentNode.removeChild(Se);function gt(){let t=He(window.location.pathname);ce.set(t),t.level[0]&&t.level[0]!=mt(x)&&I(window.location.pathname)}function pe(t){typeof t=="object"&&t.srcElement.tagName=="A"&&(t.preventDefault(),t=t.srcElement.pathname),window.location.pathname!=t&&(window.history.pushState({},"",t),ce.set(He(t)))}function I(t,e){typeof t=="object"&&t.srcElement.tagName=="A"&&(t.preventDefault(),t=t.srcElement.pathname);let n={href:t};for(let l in e||{})n[l]=e[l];se(n,l=>{for(let i in l)we[i]&&we[i].set&&we[i].set(l[i]);pe(l.href||t)})}function He(t){let e=t=="/"?[]:t.substring(1).split("/"),n=[];return e.map((l,i)=>n[i]=`${i?n[i-1]:""}/${l}`),{path:t,level:e,dir:n}}function se(t,e){t.rtoken=qe;let n=new FormData;bt(n,t);let l=new XMLHttpRequest;l.open("POST","/api"),l.send(n),l.onload=()=>{let i={};try{i=JSON.parse(l.response)}catch{ke.set(l.response)}i.rtoken&&(qe=i.rtoken,ke.set("")),e(i)}}function bt(t,e,n){e&&typeof e=="object"&&!(e instanceof Date)&&!(e instanceof File)&&!(e instanceof Blob)?Object.keys(e).forEach(l=>bt(t,e[l],n?`${n}[${l}]`:l)):t.append(n,e??"")}let ce=D(),ke=D(""),ge=D(!1),x=D(!1),je=D(!1),De=D([]),Ie=D([]),_e=D({name:""}),Be=D(""),Ne=D(""),$e=D(""),Me=D(""),Pe=D(""),kt=D([]);gt();window.addEventListener("popstate",gt);const{document:jt}=Tt;function Ge(t,e,n){const l=t.slice();return l[12]=e[n],l}function Dt(t){let e,n,l,i,f,r,u,s,c,o,h,a=t[4]!=""&&Re(t);function _($,S){return $[3]>0?Kt:Bt}let d=_(t),p=d(t);return{c(){e=b("div"),n=b("div"),l=b("div"),l.textContent="Код из письма",i=y(),a&&a.c(),f=y(),r=b("input"),s=y(),p.c(),c=me(),m(r,"class",u="code "+(t[4]==""?"":"err")),m(r,"maxlength","4"),m(r,"autocomplete","off"),m(r,"id","code"),m(e,"class","login")},m($,S){v($,e,S),g(e,n),g(n,l),g(n,i),a&&a.m(n,null),g(e,f),g(e,r),be(r,t[1]),v($,s,S),p.m($,S),v($,c,S),o||(h=[C(r,"input",t[9]),C(r,"keyup",t[7])],o=!0)},p($,S){$[4]!=""?a?a.p($,S):(a=Re($),a.c(),a.m(n,null)):a&&(a.d(1),a=null),S&16&&u!==(u="code "+($[4]==""?"":"err"))&&m(r,"class",u),S&2&&r.value!==$[1]&&be(r,$[1]),d===(d=_($))&&p?p.p($,S):(p.d(1),p=d($),p&&(p.c(),p.m(c.parentNode,c)))},d($){$&&(k(e),k(s),k(c)),a&&a.d(),p.d($),o=!1,ne(h)}}}function It(t){let e,n,l,i,f,r;return{c(){e=b("form"),n=b("input"),l=y(),i=b("button"),i.textContent="Taris",m(n,"class","email"),m(n,"type","email"),m(n,"name","email"),n.required=!0,m(n,"placeholder","Емеил для входа"),m(n,"title","Емеил для входа"),m(n,"id","email"),m(i,"class","send"),m(e,"class","login")},m(u,s){v(u,e,s),g(e,n),be(n,t[0]),g(e,l),g(e,i),f||(r=[C(n,"input",t[8]),C(e,"submit",pt(t[6]))],f=!0)},p(u,s){s&1&&n.value!==u[0]&&be(n,u[0])},d(u){u&&k(e),f=!1,ne(r)}}}function Re(t){let e,n;return{c(){e=b("div"),n=H(t[4]),m(e,"class","err")},m(l,i){v(l,e,i),g(e,n)},p(l,i){i&16&&U(n,l[4])},d(l){l&&k(e)}}}function Bt(t){let e,n,l,i;return{c(){e=b("div"),n=b("a"),n.textContent="Повторить вход",m(n,"href","/"),m(n,"class","back"),m(e,"class","note")},m(f,r){v(f,e,r),g(e,n),l||(i=C(n,"click",pt(t[10])),l=!0)},p:M,d(f){f&&k(e),l=!1,i()}}}function Kt(t){let e,n,l,i,f;return{c(){e=b("div"),n=H("Повторить отправку через "),l=b("span"),i=H(t[3]),f=H(" сек"),m(l,"class","delay"),m(e,"class","note wait")},m(r,u){v(r,e,u),g(e,n),g(e,l),g(l,i),g(e,f)},p(r,u){u&8&&U(i,r[3])},d(r){r&&k(e)}}}function Ue(t){let e,n=Z(t[5]),l=[];for(let i=0;i<n.length;i+=1)l[i]=Je(Ge(t,n,i));return{c(){e=b("div");for(let i=0;i<l.length;i+=1)l[i].c();m(e,"class","userlist")},m(i,f){v(i,e,f);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(i,f){if(f&32){n=Z(i[5]);let r;for(r=0;r<n.length;r+=1){const u=Ge(i,n,r);l[r]?l[r].p(u,f):(l[r]=Je(u),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(i){i&&k(e),ve(l,i)}}}function Je(t){let e,n=t[12].email+"",l,i,f,r;return{c(){e=b("a"),l=H(n),m(e,"href",i="/"+t[12].start)},m(u,s){v(u,e,s),g(e,l),f||(r=C(e,"click",I),f=!0)},p(u,s){s&32&&n!==(n=u[12].email+"")&&U(l,n),s&32&&i!==(i="/"+u[12].start)&&m(e,"href",i)},d(u){u&&k(e),f=!1,r()}}}function Ft(t){let e,n,l,i,f,r,u,s,c,o;function h(p,$){if(p[2]=="email")return It;if(p[2]=="code")return Dt}let a=h(t),_=a&&a(t),d=t[5]&&t[5].length&&Ue(t);return{c(){e=y(),n=b("div"),l=b("div"),i=b("div"),_&&_.c(),f=y(),d&&d.c(),r=y(),u=b("h3"),s=b("a"),s.textContent="Что здесь происходит?",jt.title="Taris - система работы с текстовыми файлами",m(i,"class","auth"),m(s,"href","/151"),m(u,"class","about"),m(n,"class","main1")},m(p,$){v(p,e,$),v(p,n,$),g(n,l),g(l,i),_&&_.m(i,null),g(l,f),d&&d.m(l,null),g(n,r),g(n,u),g(u,s),c||(o=C(s,"click",I),c=!0)},p(p,[$]){a===(a=h(p))&&_?_.p(p,$):(_&&_.d(1),_=a&&a(p),_&&(_.c(),_.m(i,null))),p[5]&&p[5].length?d?d.p(p,$):(d=Ue(p),d.c(),d.m(l,null)):d&&(d.d(1),d=null)},i:M,o:M,d(p){p&&(k(e),k(n)),_&&_.d(),d&&d.d(),c=!1,o()}}}function zt(t,e,n){let l;N(t,ge,p=>n(5,l=p));let i="",f="",r="email",u,s="",c=!1;Ce(()=>{document.getElementById("email").focus(),l==!1&&se({userList:1,wait:["userList"]},p=>ge.set(p.userList))});function o(){n(2,r="code"),n(1,f=""),n(4,s=""),n(3,u=60),setTimeout(()=>{document.getElementById("code").focus()},0);let p=setInterval(()=>{n(3,u--,u),!(u>0)&&clearInterval(p)},1e3);se({userGetCode:i},$=>{$.ok!="ok"&&n(4,s="")})}function h(){n(1,f=f.replace(/\D+/g,"")),f.length==4&&c===!1?(c=!0,se({userCheckCode:i,code:f},p=>{if(p.err)return n(4,s=p.err);p.packStart&&(ge.set(p.userList),x.set(p.packStart),je.set(p.isProject),De.set(p.packBc),Ie.set(p.packTree),_e.set(p.packMenu),Be.set(p.packTitle),$e.set(p.lineHtml),pe(p.href))})):f.length<4&&(c=!1,n(4,s=""))}function a(){i=this.value,n(0,i)}function _(){f=this.value,n(1,f)}return[i,f,r,u,s,l,o,h,a,_,()=>n(2,r="email")]}class Vt extends q{constructor(e){super(),V(this,e,zt,Ft,F,{})}}function qt(t){let e;return{c(){e=b("div"),m(e,"id","ace9"),m(e,"class","ace")},m(n,l){v(n,e,l)},p:M,i:M,o:M,d(n){n&&k(e)}}}function Gt(t,e,n){let{value:l=""}=e,i;return Ce(()=>{i=ace.edit("ace9"),i.session.setMode("ace/mode/html"),i.setOptions({minLines:10,fontSize:"14px",fontFamily:"monospace",showPrintMargin:!1,showGutter:!0,useWorker:!1,maxLines:1111,wrap:!0}),i.setValue(l,1),i.on("change",()=>n(0,l=i.getValue())),i.focus();let f=sessionStorage.getItem("gotoLine");i.gotoLine(f||1)}),Nt(()=>{var f=i.getSelectionRange().start.row;sessionStorage.setItem("gotoLine",f+1)}),t.$$set=f=>{"value"in f&&n(0,l=f.value)},[l]}class Rt extends q{constructor(e){super(),V(this,e,Gt,qt,F,{value:0})}}function We(t){let e,n,l;function i(r){t[3](r)}let f={};return t[1]!==void 0&&(f.value=t[1]),e=new Rt({props:f}),de.push(()=>Ae(e,"value",i)),{c(){j(e.$$.fragment)},m(r,u){O(e,r,u),l=!0},p(r,u){const s={};!n&&u&2&&(n=!0,s.value=r[1],Oe(()=>n=!1)),e.$set(s)},i(r){l||(w(e.$$.fragment,r),l=!0)},o(r){L(e.$$.fragment,r),l=!1},d(r){A(e,r)}}}function Ut(t){let e,n,l,i,f,r,u,s=t[0]&&We(t);return{c(){s&&s.c(),e=y(),n=b("br"),l=y(),i=b("button"),i.textContent="Сохранить",m(i,"id","ctrl-s")},m(c,o){s&&s.m(c,o),v(c,e,o),v(c,n,o),v(c,l,o),v(c,i,o),f=!0,r||(u=C(i,"click",t[2]),r=!0)},p(c,[o]){c[0]?s?(s.p(c,o),o&1&&w(s,1)):(s=We(c),s.c(),w(s,1),s.m(e.parentNode,e)):s&&(Y(),L(s,1,1,()=>{s=null}),Q())},i(c){f||(w(s),f=!0)},o(c){L(s),f=!1},d(c){c&&(k(e),k(n),k(l),k(i)),s&&s.d(c),r=!1,u()}}}function Jt(t,e,n){let l,i;N(t,x,u=>n(0,l=u)),N(t,Me,u=>n(1,i=u));function f(){se({pack:l,line:i,wait:["lineHtml"]},u=>{$e.set(u.lineHtml),pe(`/${l}`)})}document.onkeydown=u=>{["KeyS","Enter"].includes(u.code)&&(u.ctrlKey||u.metaKey)&&(u.preventDefault(),f())};function r(u){i=u,Me.set(i)}return[l,i,f,r]}class Wt extends q{constructor(e){super(),V(this,e,Jt,Ut,F,{})}}function Xe(t,e,n){const l=t.slice();return l[4]=e[n],l}function Ye(t){let e,n=t[4].name+"",l,i,f,r,u;return{c(){e=b("a"),l=H(n),m(e,"href",i="/"+t[4].id),m(e,"class",f=t[4]._prj)},m(s,c){v(s,e,c),g(e,l),r||(u=C(e,"click",I),r=!0)},p(s,c){c&1&&n!==(n=s[4].name+"")&&U(l,n),c&1&&i!==(i="/"+s[4].id)&&m(e,"href",i),c&1&&f!==(f=s[4]._prj)&&m(e,"class",f)},d(s){s&&k(e),r=!1,u()}}}function Qe(t){let e,n,l,i=t[4].id&&Ye(t);return{c(){e=b("div"),i&&i.c(),n=y(),m(e,"class",l=t[4]._act+(t[4].id?"":"empty")),Ve(e,"margin-left",t[4].space/2+"ch")},m(f,r){v(f,e,r),i&&i.m(e,null),g(e,n)},p(f,r){f[4].id?i?i.p(f,r):(i=Ye(f),i.c(),i.m(e,n)):i&&(i.d(1),i=null),r&1&&l!==(l=f[4]._act+(f[4].id?"":"empty"))&&m(e,"class",l),r&1&&Ve(e,"margin-left",f[4].space/2+"ch")},d(f){f&&k(e),i&&i.d()}}}function Xt(t){let e,n,l,i,f=Z(t[0]),r=[];for(let u=0;u<f.length;u+=1)r[u]=Qe(Xe(t,f,u));return{c(){e=b("div"),n=b("div");for(let u=0;u<r.length;u+=1)r[u].c();l=y(),i=b("div"),m(n,"class","tree"),m(i,"class","file"),m(e,"class","pro")},m(u,s){v(u,e,s),g(e,n);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(n,null);g(e,l),g(e,i),i.innerHTML=t[1]},p(u,[s]){if(s&1){f=Z(u[0]);let c;for(c=0;c<f.length;c+=1){const o=Xe(u,f,c);r[c]?r[c].p(o,s):(r[c]=Qe(o),r[c].c(),r[c].m(n,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=f.length}s&2&&(i.innerHTML=u[1])},i:M,o:M,d(u){u&&k(e),ve(r,u)}}}function Yt(t,e,n){let l,i,f,r;return N(t,x,u=>n(2,l=u)),N(t,_e,u=>n(3,i=u)),N(t,Ie,u=>n(0,f=u)),N(t,$e,u=>n(1,r=u)),document.onkeydown=u=>{i.line!=null&&["KeyS","Enter"].includes(u.code)&&(u.ctrlKey||u.metaKey)&&(u.preventDefault(),I(`/${l}/line`))},[f,r]}class Qt extends q{constructor(e){super(),V(this,e,Yt,Xt,F,{})}}function Zt(t){let e;return{c(){e=b("div"),m(e,"id","ace9"),m(e,"class","ace")},m(n,l){v(n,e,l)},p:M,i:M,o:M,d(n){n&&k(e)}}}function xt(t,e,n){let{value:l=""}=e;return Ce(()=>{let i=ace.edit("ace9");i.session.setMode("ace/mode/yaml"),i.setOptions({minLines:10,fontSize:"14px",fontFamily:"monospace",showPrintMargin:!1,showGutter:!0,useWorker:!1,maxLines:1111,wrap:!0}),i.setValue(l,1),i.on("change",()=>n(0,l=i.getValue())),i.focus()}),t.$$set=i=>{"value"in i&&n(0,l=i.value)},[l]}class vt extends q{constructor(e){super(),V(this,e,xt,Zt,F,{value:0})}}function Ze(t){let e,n,l;function i(r){t[3](r)}let f={};return t[0]!==void 0&&(f.value=t[0]),e=new vt({props:f}),de.push(()=>Ae(e,"value",i)),{c(){j(e.$$.fragment)},m(r,u){O(e,r,u),l=!0},p(r,u){const s={};!n&&u&1&&(n=!0,s.value=r[0],Oe(()=>n=!1)),e.$set(s)},i(r){l||(w(e.$$.fragment,r),l=!0)},o(r){L(e.$$.fragment,r),l=!1},d(r){A(e,r)}}}function en(t){let e,n,l,i,f,r,u,s=t[1]&&Ze(t);return{c(){s&&s.c(),e=y(),n=b("br"),l=y(),i=b("button"),i.textContent="Сохранить",m(i,"id","ctrl-s")},m(c,o){s&&s.m(c,o),v(c,e,o),v(c,n,o),v(c,l,o),v(c,i,o),f=!0,r||(u=C(i,"click",t[2]),r=!0)},p(c,[o]){c[1]?s?(s.p(c,o),o&2&&w(s,1)):(s=Ze(c),s.c(),w(s,1),s.m(e.parentNode,e)):s&&(Y(),L(s,1,1,()=>{s=null}),Q())},i(c){f||(w(s),f=!0)},o(c){L(s),f=!1},d(c){c&&(k(e),k(n),k(l),k(i)),s&&s.d(c),r=!1,u()}}}function tn(t,e,n){let l,i;N(t,Ne,u=>n(0,l=u)),N(t,x,u=>n(1,i=u));function f(){I(`/${i}`,{tree:l})}document.onkeydown=u=>{["KeyS","Enter"].includes(u.code)&&(u.ctrlKey||u.metaKey)&&(u.preventDefault(),f())};function r(u){l=u,Ne.set(l)}return[l,i,f,r]}class nn extends q{constructor(e){super(),V(this,e,tn,en,F,{})}}function xe(t){let e,n,l;function i(r){t[3](r)}let f={};return t[0]!==void 0&&(f.value=t[0]),e=new vt({props:f}),de.push(()=>Ae(e,"value",i)),{c(){j(e.$$.fragment)},m(r,u){O(e,r,u),l=!0},p(r,u){const s={};!n&&u&1&&(n=!0,s.value=r[0],Oe(()=>n=!1)),e.$set(s)},i(r){l||(w(e.$$.fragment,r),l=!0)},o(r){L(e.$$.fragment,r),l=!1},d(r){A(e,r)}}}function ln(t){let e,n,l,i,f,r,u,s=t[1]&&xe(t);return{c(){s&&s.c(),e=y(),n=b("br"),l=y(),i=b("button"),i.textContent="Сохранить",m(i,"id","ctrl-s")},m(c,o){s&&s.m(c,o),v(c,e,o),v(c,n,o),v(c,l,o),v(c,i,o),f=!0,r||(u=C(i,"click",t[2]),r=!0)},p(c,[o]){c[1]?s?(s.p(c,o),o&2&&w(s,1)):(s=xe(c),s.c(),w(s,1),s.m(e.parentNode,e)):s&&(Y(),L(s,1,1,()=>{s=null}),Q())},i(c){f||(w(s),f=!0)},o(c){L(s),f=!1},d(c){c&&(k(e),k(n),k(l),k(i)),s&&s.d(c),r=!1,u()}}}function rn(t,e,n){let l,i;N(t,Pe,u=>n(0,l=u)),N(t,x,u=>n(1,i=u));function f(){I(`/${i}/access`,{access:l,wait:["accessText"]})}document.onkeydown=u=>{["KeyS","Enter"].includes(u.code)&&(u.ctrlKey||u.metaKey)&&(u.preventDefault(),f())};function r(u){l=u,Pe.set(l)}return[l,i,f,r]}class fn extends q{constructor(e){super(),V(this,e,rn,ln,F,{})}}function et(t,e,n){const l=t.slice();return l[2]=e[n],l}function tt(t){let e,n,l=t[2].created+"",i,f,r,u=t[2].author_email+"",s,c,o,h=t[2].target_name+"",a,_,d,p,$=t[2].up_name+"",S,z,J,G,P;return{c(){e=b("tr"),n=b("td"),i=H(l),f=y(),r=b("td"),s=H(u),c=y(),o=b("td"),a=H(h),_=y(),d=b("td"),p=b("a"),S=H($),J=y(),m(p,"href",z="/"+t[1]+"/logUp/"+t[2].id)},m(E,R){v(E,e,R),g(e,n),g(n,i),g(e,f),g(e,r),g(r,s),g(e,c),g(e,o),g(o,a),g(e,_),g(e,d),g(d,p),g(p,S),g(e,J),G||(P=C(p,"click",I),G=!0)},p(E,R){R&1&&l!==(l=E[2].created+"")&&U(i,l),R&1&&u!==(u=E[2].author_email+"")&&U(s,u),R&1&&h!==(h=E[2].target_name+"")&&U(a,h),R&1&&$!==($=E[2].up_name+"")&&U(S,$),R&3&&z!==(z="/"+E[1]+"/logUp/"+E[2].id)&&m(p,"href",z)},d(E){E&&k(e),G=!1,P()}}}function un(t){let e,n,l,i,f,r,u,s,c,o=Z(t[0]),h=[];for(let a=0;a<o.length;a+=1)h[a]=tt(et(t,o,a));return{c(){e=b("p"),e.textContent="Это платный раздел. Суть в том, чтобы узнать кто когда и что отредактировал.",n=y(),l=b("p"),l.textContent='Если вы пользуетесь только для себя, то у вас не возникнет вопроса из серии "чьи ручонки что-то изменили?"',i=y(),f=b("br"),r=y(),u=b("br"),s=y(),c=b("table");for(let a=0;a<h.length;a+=1)h[a].c();m(c,"class","loglist")},m(a,_){v(a,e,_),v(a,n,_),v(a,l,_),v(a,i,_),v(a,f,_),v(a,r,_),v(a,u,_),v(a,s,_),v(a,c,_);for(let d=0;d<h.length;d+=1)h[d]&&h[d].m(c,null)},p(a,[_]){if(_&3){o=Z(a[0]);let d;for(d=0;d<o.length;d+=1){const p=et(a,o,d);h[d]?h[d].p(p,_):(h[d]=tt(p),h[d].c(),h[d].m(c,null))}for(;d<h.length;d+=1)h[d].d(1);h.length=o.length}},i:M,o:M,d(a){a&&(k(e),k(n),k(l),k(i),k(f),k(r),k(u),k(s),k(c)),ve(h,a)}}}function sn(t,e,n){let l,i;return N(t,kt,f=>n(0,l=f)),N(t,x,f=>n(1,i=f)),[l,i]}class cn extends q{constructor(e){super(),V(this,e,sn,un,F,{})}}function nt(t){let e;function n(f,r){return f[4]==f[0]?an:on}let l=n(t),i=l(t);return{c(){i.c(),e=me()},m(f,r){i.m(f,r),v(f,e,r)},p(f,r){l===(l=n(f))&&i?i.p(f,r):(i.d(1),i=l(f),i&&(i.c(),i.m(e.parentNode,e)))},d(f){f&&k(e),i.d(f)}}}function on(t){let e,n=t[5][t[0]]+"",l,i,f;return{c(){e=b("a"),m(e,"href",t[1]),m(e,"class",l="a "+t[2]),m(e,"title",t[3])},m(r,u){v(r,e,u),e.innerHTML=n,i||(f=C(e,"click",I),i=!0)},p(r,u){u&33&&n!==(n=r[5][r[0]]+"")&&(e.innerHTML=n),u&2&&m(e,"href",r[1]),u&4&&l!==(l="a "+r[2])&&m(e,"class",l),u&8&&m(e,"title",r[3])},d(r){r&&k(e),i=!1,f()}}}function an(t){let e,n=t[5][t[0]]+"",l;return{c(){e=b("span"),m(e,"class",l="a "+t[0]+" "+t[2]),m(e,"title",t[3])},m(i,f){v(i,e,f),e.innerHTML=n},p(i,f){f&33&&n!==(n=i[5][i[0]]+"")&&(e.innerHTML=n),f&5&&l!==(l="a "+i[0]+" "+i[2])&&m(e,"class",l),f&8&&m(e,"title",i[3])},d(i){i&&k(e)}}}function dn(t){let e,n=t[0]in t[5]&&nt(t);return{c(){n&&n.c(),e=me()},m(l,i){n&&n.m(l,i),v(l,e,i)},p(l,[i]){l[0]in l[5]?n?n.p(l,i):(n=nt(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:M,o:M,d(l){l&&k(e),n&&n.d(l)}}}function mn(t,e,n){let l,i,f;N(t,ce,o=>n(6,i=o)),N(t,_e,o=>n(5,f=o));let{key:r}=e,{href:u}=e,{cls:s=""}=e,{title:c=""}=e;return t.$$set=o=>{"key"in o&&n(0,r=o.key),"href"in o&&n(1,u=o.href),"cls"in o&&n(2,s=o.cls),"title"in o&&n(3,c=o.title)},t.$$.update=()=>{t.$$.dirty&64&&n(4,l=i.level[1]||"view")},[r,u,s,c,l,f,i]}class fe extends q{constructor(e){super(),V(this,e,mn,dn,F,{key:0,href:1,cls:2,title:3})}}function lt(t,e,n){const l=t.slice();return l[7]=e[n],l}function it(t){let e,n,l,i,f=t[7].name+"",r,u,s,c,o;return{c(){e=b("i"),l=y(),i=b("a"),r=H(f),m(e,"class",n=t[7]._pub),m(i,"href",u="/"+t[7].id),m(i,"class",s=t[7]._cur)},m(h,a){v(h,e,a),v(h,l,a),v(h,i,a),g(i,r),c||(o=C(i,"click",I),c=!0)},p(h,a){a&1&&n!==(n=h[7]._pub)&&m(e,"class",n),a&1&&f!==(f=h[7].name+"")&&U(r,f),a&1&&u!==(u="/"+h[7].id)&&m(i,"href",u),a&1&&s!==(s=h[7]._cur)&&m(i,"class",s)},d(h){h&&(k(e),k(l),k(i)),c=!1,o()}}}function rt(t){let e,n,l,i,f,r,u,s,c,o,h;n=new fe({props:{key:"view",href:"/"+t[1].level[0]}}),i=new fe({props:{key:"line",href:"/"+t[1].level[0]+"/line"}});let a="tree"in t[5]&&ft(t),_="access"in t[5]&&ct(t);return s=new fe({props:{key:"log",href:"/"+t[1].level[0]+"/log"}}),o=new fe({props:{key:"bye",href:"/bye/"+t[2]}}),{c(){e=b("div"),j(n.$$.fragment),l=y(),j(i.$$.fragment),f=y(),a&&a.c(),r=y(),_&&_.c(),u=y(),j(s.$$.fragment),c=y(),j(o.$$.fragment),m(e,"class","menu")},m(d,p){v(d,e,p),O(n,e,null),g(e,l),O(i,e,null),g(e,f),a&&a.m(e,null),g(e,r),_&&_.m(e,null),g(e,u),O(s,e,null),g(e,c),O(o,e,null),h=!0},p(d,p){const $={};p&2&&($.href="/"+d[1].level[0]),n.$set($);const S={};p&2&&(S.href="/"+d[1].level[0]+"/line"),i.$set(S),"tree"in d[5]?a?(a.p(d,p),p&32&&w(a,1)):(a=ft(d),a.c(),w(a,1),a.m(e,r)):a&&(Y(),L(a,1,1,()=>{a=null}),Q()),"access"in d[5]?_?(_.p(d,p),p&32&&w(_,1)):(_=ct(d),_.c(),w(_,1),_.m(e,u)):_&&(Y(),L(_,1,1,()=>{_=null}),Q());const z={};p&2&&(z.href="/"+d[1].level[0]+"/log"),s.$set(z);const J={};p&4&&(J.href="/bye/"+d[2]),o.$set(J)},i(d){h||(w(n.$$.fragment,d),w(i.$$.fragment,d),w(a),w(_),w(s.$$.fragment,d),w(o.$$.fragment,d),h=!0)},o(d){L(n.$$.fragment,d),L(i.$$.fragment,d),L(a),L(_),L(s.$$.fragment,d),L(o.$$.fragment,d),h=!1},d(d){d&&k(e),A(n),A(i),a&&a.d(),_&&_.d(),A(s),A(o)}}}function ft(t){let e,n,l,i,f;n=new fe({props:{key:"tree",href:"/"+t[1].level[0]+"/tree"}});let r=t[6]===!1&&ut(t),u=t[6]===!0&&st(t);return{c(){e=b("div"),j(n.$$.fragment),l=y(),r&&r.c(),i=y(),u&&u.c(),m(e,"class","group1")},m(s,c){v(s,e,c),O(n,e,null),g(e,l),r&&r.m(e,null),g(e,i),u&&u.m(e,null),f=!0},p(s,c){const o={};c&2&&(o.href="/"+s[1].level[0]+"/tree"),n.$set(o),s[6]===!1?r?r.p(s,c):(r=ut(s),r.c(),r.m(e,i)):r&&(r.d(1),r=null),s[6]===!0?u?u.p(s,c):(u=st(s),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(s){f||(w(n.$$.fragment,s),f=!0)},o(s){L(n.$$.fragment,s),f=!1},d(s){s&&k(e),A(n),r&&r.d(),u&&u.d()}}}function ut(t){let e,n,l,i,f;return{c(){e=b("a"),n=H("+"),m(e,"href",l="/"+t[1].level[0]+"/treeAdd"),m(e,"class","a icon"),m(e,"title","Выделить проект")},m(r,u){v(r,e,u),g(e,n),i||(f=C(e,"click",I),i=!0)},p(r,u){u&2&&l!==(l="/"+r[1].level[0]+"/treeAdd")&&m(e,"href",l)},d(r){r&&k(e),i=!1,f()}}}function st(t){let e,n,l,i,f;return{c(){e=b("a"),n=H("-"),m(e,"href",l="/"+t[1].level[0]+"/treeDel"),m(e,"class","a icon"),m(e,"title","Отменить проект")},m(r,u){v(r,e,u),g(e,n),i||(f=C(e,"click",I),i=!0)},p(r,u){u&2&&l!==(l="/"+r[1].level[0]+"/treeDel")&&m(e,"href",l)},d(r){r&&k(e),i=!1,f()}}}function ct(t){let e,n,l,i,f="&#9741;",r,u,s,c;return n=new fe({props:{key:"access",href:"/"+t[1].level[0]+"/access"}}),{c(){e=b("div"),j(n.$$.fragment),l=y(),i=b("a"),m(i,"href",r="/"+t[1].level[0]+"/accessLink"),m(i,"class","a icon"),m(i,"title","Доступ по ссылке"),m(e,"class","group1")},m(o,h){v(o,e,h),O(n,e,null),g(e,l),g(e,i),i.innerHTML=f,u=!0,s||(c=C(i,"click",I),s=!0)},p(o,h){const a={};h&2&&(a.href="/"+o[1].level[0]+"/access"),n.$set(a),(!u||h&2&&r!==(r="/"+o[1].level[0]+"/accessLink"))&&m(i,"href",r)},i(o){u||(w(n.$$.fragment,o),u=!0)},o(o){L(n.$$.fragment,o),u=!1},d(o){o&&k(e),A(n),s=!1,c()}}}function pn(t){let e,n;return e=new cn({}),{c(){j(e.$$.fragment)},m(l,i){O(e,l,i),n=!0},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){A(e,l)}}}function _n(t){let e,n;return e=new fn({}),{c(){j(e.$$.fragment)},m(l,i){O(e,l,i),n=!0},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){A(e,l)}}}function hn(t){let e,n;return e=new nn({}),{c(){j(e.$$.fragment)},m(l,i){O(e,l,i),n=!0},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){A(e,l)}}}function gn(t){let e,n;return e=new Wt({}),{c(){j(e.$$.fragment)},m(l,i){O(e,l,i),n=!0},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){A(e,l)}}}function bn(t){let e,n;return e=new Qt({}),{c(){j(e.$$.fragment)},m(l,i){O(e,l,i),n=!0},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){A(e,l)}}}function kn(t){let e,n,l,i,f,r,u,s,c,o=t[5].name+"",h,a,_,d,p,$,S,z,J;document.title=e=t[4];let G=Z(t[0]),P=[];for(let T=0;T<G.length;T+=1)P[T]=it(lt(t,G,T));let E="view"in t[5]&&rt(t);const R=[bn,gn,hn,_n,pn],ee=[];function Ke(T,B){return T[3]=="view"?0:T[3]=="line"?1:T[3]=="tree"?2:T[3]=="access"?3:T[3]=="log"?4:-1}return~(d=Ke(t))&&(p=ee[d]=R[d](t)),{c(){n=y(),l=b("div"),i=b("div"),f=b("a"),f.textContent="Taris",r=y();for(let T=0;T<P.length;T+=1)P[T].c();u=y(),s=b("div"),c=b("div"),h=H(o),a=y(),E&&E.c(),_=y(),p&&p.c(),$=me(),m(f,"href","/"),m(f,"class","logo"),m(i,"class","bc"),m(c,"class","name"),m(s,"class","burger"),m(l,"class","nav1")},m(T,B){v(T,n,B),v(T,l,B),g(l,i),g(i,f),g(i,r);for(let W=0;W<P.length;W+=1)P[W]&&P[W].m(i,null);g(l,u),g(l,s),g(s,c),g(c,h),g(s,a),E&&E.m(s,null),v(T,_,B),~d&&ee[d].m(T,B),v(T,$,B),S=!0,z||(J=C(f,"click",pe),z=!0)},p(T,[B]){if((!S||B&16)&&e!==(e=T[4])&&(document.title=e),B&1){G=Z(T[0]);let K;for(K=0;K<G.length;K+=1){const Fe=lt(T,G,K);P[K]?P[K].p(Fe,B):(P[K]=it(Fe),P[K].c(),P[K].m(i,null))}for(;K<P.length;K+=1)P[K].d(1);P.length=G.length}(!S||B&32)&&o!==(o=T[5].name+"")&&U(h,o),"view"in T[5]?E?(E.p(T,B),B&32&&w(E,1)):(E=rt(T),E.c(),w(E,1),E.m(s,null)):E&&(Y(),L(E,1,1,()=>{E=null}),Q());let W=d;d=Ke(T),d!==W&&(p&&(Y(),L(ee[W],1,1,()=>{ee[W]=null}),Q()),~d?(p=ee[d],p||(p=ee[d]=R[d](T),p.c()),w(p,1),p.m($.parentNode,$)):p=null)},i(T){S||(w(E),w(p),S=!0)},o(T){L(E),L(p),S=!1},d(T){T&&(k(n),k(l),k(_),k($)),ve(P,T),E&&E.d(),~d&&ee[d].d(T),z=!1,J()}}}function vn(t,e,n){let l,i,f,r,u,s,c;return N(t,De,o=>n(0,f=o)),N(t,ce,o=>n(1,r=o)),N(t,Be,o=>n(4,u=o)),N(t,_e,o=>n(5,s=o)),N(t,je,o=>n(6,c=o)),t.$$.update=()=>{t.$$.dirty&2&&n(3,l=r.level[1]||"view"),t.$$.dirty&1&&n(2,i=f[0]?f[0].name:"")},[f,r,i,l,u,s,c]}class $n extends q{constructor(e){super(),V(this,e,vn,kn,F,{})}}function wn(t){let e,n;return e=new $n({}),{c(){j(e.$$.fragment)},m(l,i){O(e,l,i),n=!0},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){A(e,l)}}}function yn(t){let e,n;return e=new Vt({}),{c(){j(e.$$.fragment)},m(l,i){O(e,l,i),n=!0},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){L(e.$$.fragment,l),n=!1},d(l){A(e,l)}}}function Tn(t){let e,n=t[0]!=""?`<pre class="apierr">${t[0]}</pre>`:"",l,i,f,r,u,s;const c=[yn,wn],o=[];function h(a,_){return _&2&&(i=null),a[1].path=="/"?0:(i==null&&(i=Number(a[1].level[0])>0),i?1:-1)}return~(f=h(t,-1))&&(r=o[f]=c[f](t)),{c(){e=new St(!1),l=y(),r&&r.c(),u=me(),e.a=l},m(a,_){e.m(n,a,_),v(a,l,_),~f&&o[f].m(a,_),v(a,u,_),s=!0},p(a,[_]){(!s||_&1)&&n!==(n=a[0]!=""?`<pre class="apierr">${a[0]}</pre>`:"")&&e.p(n);let d=f;f=h(a,_),f!==d&&(r&&(Y(),L(o[d],1,1,()=>{o[d]=null}),Q()),~f?(r=o[f],r||(r=o[f]=c[f](a),r.c()),w(r,1),r.m(u.parentNode,u)):r=null)},i(a){s||(w(r),s=!0)},o(a){L(r),s=!1},d(a){a&&(e.d(),k(l),k(u)),~f&&o[f].d(a)}}}function Ln(t,e,n){let l,i;return N(t,ke,f=>n(0,l=f)),N(t,ce,f=>n(1,i=f)),[l,i]}class En extends q{constructor(e){super(),V(this,e,Ln,Tn,F,{})}}new En({target:document.getElementById("app")});
